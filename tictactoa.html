<!doctype html>
<html lang="de">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" media="screen" href="css/titato.css">
        <title>TTT - Step-by-Step</title>



    </head>



    <body>

        <h1>Tic-Tac-Toe</h1>

        <div class="tic-tac-toe">
            <p id="hint">Zum Spielen bitte abwechselnd in die Spielfelder klicken/tappen!</p>

            <!--declare in HTML the onclick function to trigger when
            //the user clicks onto a child button-->


            <div id="gameboard" onclick="markField(event);" >


                <button aria-label="">A1</button>
                <button aria-label="">A2</button>
                <button aria-lebel="">A3</button>	
                
                <button aria-label="">B1</button>
                <button aria-label="">B2</button>
                <button aria-label="">B3</button>	
                
                <button aria-label="">C1</button>
                <button aria-label="">C2</button>
                <button aria-label="">C3</button>	
            </div>
            
        </div>

            

            <script> 


function markField(mouseEvent) {
                    //dev only: alert traget object of mouse event 

                    //alert(mouseEvent.target);

                    // declare variable field and set to target object of mouse event
                    var field = mouseEvent.target;

                    // label the field with the player's name:
                    // set aria-label attribute to set background-image

                    field.setAttribute("aria-label", player);


                    // disable field against further mouse clicks (set disabled attribute)
        
                    field.setAttribute("disabled","disabled" );
                
                    // change name of current player

                    if (player == "x")
                    {player = "o"}
                    else {player = "x"};

                    // set innerHTML text of hint to "Hello " plus value 
                    // of player plus " - select a field!" at the end


                    // set inner HTML text of hint to "Next player is " 
                    // plus value of player plus "!"

                    hint.innerHTML = "next player is " + player + "!"; 

                    // call function allFieldsAreSelected

                    //allFieldsAreSelelcted()  

                    // !! insert as last lines of function declaration markField() !!

                    // if all fields were selected, using allFieldsAreSelected(),
                    // set hint, indicating the end of the game

                    if (allFieldsAreSelected()) hint.innerHTML = "Game over!";

                }
                        
                // declare the variable fields and set it to the list of field objects, 
                    // using document.querySelectorAll()

                function allFieldsAreSelected(){
                    

                    var fields = document.querySelectorAll("#gameboard button")

                    
                    var len = fields.length; // ‘len’ for length

                    // ‘c’ for counter
                    // ‘c++’ is same as ‘c = c + 1’

                    for (var c = 0; c< len; c++){

                    
                        // get field objeckt from the list fields 
                        var f = fields[c];

                   
                        // if there is an empty label, return false (exit function)

                        if ( f.getAttribute("aria-label") == "" ) {

                            //alert ("bingo");
                            return false;
                        }
                        
                    }       
                    
                       //alert ("bango");
                        return true;

                    //fields is a List/Array, let's get the length of the list
                   
                }

                    // declare variable player
                    var player;

                    // set player to "x"
                    player ="x";

                    // or combined: declare variable player and set player to "x"
                    var player= "x";

                    // life sign
                   

                    // declare variable hint and set it to element object with // id "hint", using document.querySelector()

                    var hint = document.querySelector("#hint");
            </script>

    </body>

</html>